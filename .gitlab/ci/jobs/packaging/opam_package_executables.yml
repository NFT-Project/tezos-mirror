# This file was automatically generated, do not edit.
# Edit file manifest/main.ml instead.

.rules_template__trigger_opam_batch_1:
  rules:
    # Run on scheduled builds.
    - if: '$CI_PIPELINE_SOURCE == "schedule" && $TZ_SCHEDULE_KIND == "EXTENDED_TESTS"'
      when: delayed
      start_in: 1 minutes
    # Run when there is label on the merge request
    - if: '$CI_MERGE_REQUEST_LABELS =~ /(?:^|[,])ci--opam(?:$|[,])/'
      when: delayed
      start_in: 1 minutes
    # Run on merge requests when opam changes are detected.
    - if: '$CI_MERGE_REQUEST_ID'
      changes:
        - "**/dune"
        - "**/dune.inc"
        - "**/*.dune.inc"
        - "**/dune-project"
        - "**/dune-workspace"
        - "**/*.opam"
        - .gitlab/ci/jobs/packaging/opam_prepare.yml
        - .gitlab/ci/jobs/packaging/opam_package.yml
        - manifest/manifest.ml
        - manifest/main.ml
        - scripts/opam-prepare-repo.sh
        - scripts/version.sh
      when: delayed
      start_in: 1 minutes
    - when: never # default

.rules_template__trigger_opam_batch_2:
  rules:
    # Run on scheduled builds.
    - if: '$CI_PIPELINE_SOURCE == "schedule" && $TZ_SCHEDULE_KIND == "EXTENDED_TESTS"'
      when: delayed
      start_in: 2 minutes
    # Run when there is label on the merge request
    - if: '$CI_MERGE_REQUEST_LABELS =~ /(?:^|[,])ci--opam(?:$|[,])/'
      when: delayed
      start_in: 2 minutes
    # Run on merge requests when opam changes are detected.
    - if: '$CI_MERGE_REQUEST_ID'
      changes:
        - "**/dune"
        - "**/dune.inc"
        - "**/*.dune.inc"
        - "**/dune-project"
        - "**/dune-workspace"
        - "**/*.opam"
        - .gitlab/ci/jobs/packaging/opam_prepare.yml
        - .gitlab/ci/jobs/packaging/opam_package.yml
        - manifest/manifest.ml
        - manifest/main.ml
        - scripts/opam-prepare-repo.sh
        - scripts/version.sh
      when: delayed
      start_in: 2 minutes
    - when: never # default

.rules_template__trigger_opam_batch_3:
  rules:
    # Run on scheduled builds.
    - if: '$CI_PIPELINE_SOURCE == "schedule" && $TZ_SCHEDULE_KIND == "EXTENDED_TESTS"'
      when: delayed
      start_in: 3 minutes
    # Run when there is label on the merge request
    - if: '$CI_MERGE_REQUEST_LABELS =~ /(?:^|[,])ci--opam(?:$|[,])/'
      when: delayed
      start_in: 3 minutes
    # Run on merge requests when opam changes are detected.
    - if: '$CI_MERGE_REQUEST_ID'
      changes:
        - "**/dune"
        - "**/dune.inc"
        - "**/*.dune.inc"
        - "**/dune-project"
        - "**/dune-workspace"
        - "**/*.opam"
        - .gitlab/ci/jobs/packaging/opam_prepare.yml
        - .gitlab/ci/jobs/packaging/opam_package.yml
        - manifest/manifest.ml
        - manifest/main.ml
        - scripts/opam-prepare-repo.sh
        - scripts/version.sh
      when: delayed
      start_in: 3 minutes
    - when: never # default

.rules_template__trigger_opam_batch_4:
  rules:
    # Run on scheduled builds.
    - if: '$CI_PIPELINE_SOURCE == "schedule" && $TZ_SCHEDULE_KIND == "EXTENDED_TESTS"'
      when: delayed
      start_in: 4 minutes
    # Run when there is label on the merge request
    - if: '$CI_MERGE_REQUEST_LABELS =~ /(?:^|[,])ci--opam(?:$|[,])/'
      when: delayed
      start_in: 4 minutes
    # Run on merge requests when opam changes are detected.
    - if: '$CI_MERGE_REQUEST_ID'
      changes:
        - "**/dune"
        - "**/dune.inc"
        - "**/*.dune.inc"
        - "**/dune-project"
        - "**/dune-workspace"
        - "**/*.opam"
        - .gitlab/ci/jobs/packaging/opam_prepare.yml
        - .gitlab/ci/jobs/packaging/opam_package.yml
        - manifest/manifest.ml
        - manifest/main.ml
        - scripts/opam-prepare-repo.sh
        - scripts/version.sh
      when: delayed
      start_in: 4 minutes
    - when: never # default

.rules_template__trigger_opam_batch_5:
  rules:
    # Run on scheduled builds.
    - if: '$CI_PIPELINE_SOURCE == "schedule" && $TZ_SCHEDULE_KIND == "EXTENDED_TESTS"'
      when: delayed
      start_in: 5 minutes
    # Run when there is label on the merge request
    - if: '$CI_MERGE_REQUEST_LABELS =~ /(?:^|[,])ci--opam(?:$|[,])/'
      when: delayed
      start_in: 5 minutes
    # Run on merge requests when opam changes are detected.
    - if: '$CI_MERGE_REQUEST_ID'
      changes:
        - "**/dune"
        - "**/dune.inc"
        - "**/*.dune.inc"
        - "**/dune-project"
        - "**/dune-workspace"
        - "**/*.opam"
        - .gitlab/ci/jobs/packaging/opam_prepare.yml
        - .gitlab/ci/jobs/packaging/opam_package.yml
        - manifest/manifest.ml
        - manifest/main.ml
        - scripts/opam-prepare-repo.sh
        - scripts/version.sh
      when: delayed
      start_in: 5 minutes
    - when: never # default

.rules_template__trigger_opam_batch_6:
  rules:
    # Run on scheduled builds.
    - if: '$CI_PIPELINE_SOURCE == "schedule" && $TZ_SCHEDULE_KIND == "EXTENDED_TESTS"'
      when: delayed
      start_in: 6 minutes
    # Run when there is label on the merge request
    - if: '$CI_MERGE_REQUEST_LABELS =~ /(?:^|[,])ci--opam(?:$|[,])/'
      when: delayed
      start_in: 6 minutes
    # Run on merge requests when opam changes are detected.
    - if: '$CI_MERGE_REQUEST_ID'
      changes:
        - "**/dune"
        - "**/dune.inc"
        - "**/*.dune.inc"
        - "**/dune-project"
        - "**/dune-workspace"
        - "**/*.opam"
        - .gitlab/ci/jobs/packaging/opam_prepare.yml
        - .gitlab/ci/jobs/packaging/opam_package.yml
        - manifest/manifest.ml
        - manifest/main.ml
        - scripts/opam-prepare-repo.sh
        - scripts/version.sh
      when: delayed
      start_in: 6 minutes
    - when: never # default

.rules_template__trigger_opam_batch_7:
  rules:
    # Run on scheduled builds.
    - if: '$CI_PIPELINE_SOURCE == "schedule" && $TZ_SCHEDULE_KIND == "EXTENDED_TESTS"'
      when: delayed
      start_in: 7 minutes
    # Run when there is label on the merge request
    - if: '$CI_MERGE_REQUEST_LABELS =~ /(?:^|[,])ci--opam(?:$|[,])/'
      when: delayed
      start_in: 7 minutes
    # Run on merge requests when opam changes are detected.
    - if: '$CI_MERGE_REQUEST_ID'
      changes:
        - "**/dune"
        - "**/dune.inc"
        - "**/*.dune.inc"
        - "**/dune-project"
        - "**/dune-workspace"
        - "**/*.opam"
        - .gitlab/ci/jobs/packaging/opam_prepare.yml
        - .gitlab/ci/jobs/packaging/opam_package.yml
        - manifest/manifest.ml
        - manifest/main.ml
        - scripts/opam-prepare-repo.sh
        - scripts/version.sh
      when: delayed
      start_in: 7 minutes
    - when: never # default

# Ignoring unreleased package internal-devtools.

opam:octez-accuser-PtMumbai:
  extends:
    - .opam_template
    - .rules_template__trigger_opam_batch_1
  variables:
    package: octez-accuser-PtMumbai

opam:octez-accuser-PtNairob:
  extends:
    - .opam_template
    - .rules_template__trigger_opam_batch_1
  variables:
    package: octez-accuser-PtNairob

# Ignoring unreleased package octez-accuser-alpha.

opam:octez-baker-PtMumbai:
  extends:
    - .opam_template
    - .rules_template__trigger_opam_batch_1
  variables:
    package: octez-baker-PtMumbai

opam:octez-baker-PtNairob:
  extends:
    - .opam_template
    - .rules_template__trigger_opam_batch_1
  variables:
    package: octez-baker-PtNairob

# Ignoring unreleased package octez-baker-alpha.

opam:octez-client:
  extends:
    - .opam_template
    - .rules_template__trigger_opam_batch_1
  variables:
    package: octez-client

opam:octez-codec:
  extends:
    - .opam_template
    - .rules_template__trigger_opam_batch_1
  variables:
    package: octez-codec

# Ignoring unreleased package octez-dac-client.

# Ignoring unreleased package octez-dac-node.

# Ignoring unreleased package octez-dal-node.

# Ignoring unreleased package octez-evm-proxy.

opam:octez-node:
  extends:
    - .opam_template
    - .rules_template__trigger_opam_batch_1
  variables:
    package: octez-node

opam:octez-protocol-compiler:
  extends:
    - .opam_template
    - .rules_template__trigger_opam_batch_4
  variables:
    package: octez-protocol-compiler

opam:octez-proxy-server:
  extends:
    - .opam_template
    - .rules_template__trigger_opam_batch_1
  variables:
    package: octez-proxy-server

opam:octez-signer:
  extends:
    - .opam_template
    - .rules_template__trigger_opam_batch_2
  variables:
    package: octez-signer

opam:octez-smart-rollup-client-PtMumbai:
  extends:
    - .opam_template
    - .rules_template__trigger_opam_batch_1
  variables:
    package: octez-smart-rollup-client-PtMumbai

opam:octez-smart-rollup-client-PtNairob:
  extends:
    - .opam_template
    - .rules_template__trigger_opam_batch_1
  variables:
    package: octez-smart-rollup-client-PtNairob

# Ignoring unreleased package octez-smart-rollup-client-alpha.

opam:octez-smart-rollup-node-PtMumbai:
  extends:
    - .opam_template
    - .rules_template__trigger_opam_batch_1
  variables:
    package: octez-smart-rollup-node-PtMumbai

opam:octez-smart-rollup-node-PtNairob:
  extends:
    - .opam_template
    - .rules_template__trigger_opam_batch_1
  variables:
    package: octez-smart-rollup-node-PtNairob

# Ignoring unreleased package octez-smart-rollup-node-alpha.

opam:octez-smart-rollup-wasm-debugger:
  extends:
    - .opam_template
    - .rules_template__trigger_opam_batch_1
  variables:
    package: octez-smart-rollup-wasm-debugger

# Ignoring unreleased package octez-snoop.

# Ignoring unreleased package octez-testnet-scenarios.

# Ignoring unreleased package tezos-tps-evaluation.

opam:tezos-version:
  extends:
    - .opam_template
    - .rules_template__trigger_opam_batch_6
  variables:
    package: tezos-version
